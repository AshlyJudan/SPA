<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surabhi Pytha Academy - 3D CAD Training</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        /* Custom colors based on user request */
        :root {
            --color-accent: #FFDA97; /* Light Gold */
            --color-dark: #000000;  /* Royal Black */
            --color-cream: #F8F4E3; /* Cream color */
            --header-height: 100px; 
        }
        .bg-accent { background-color: var(--color-accent); }
        .text-accent { color: var(--color-accent); }
        .border-accent { border-color: var(--color-accent); }
        .bg-cream { background-color: var(--color-cream); }

        html { scroll-behavior: smooth; font-family: 'Inter', sans-serif; }
        
        /* Header Animation */
        #main-header {
            transition: transform 0.8s ease-in-out; 
        }
        
        /* Three.js Canvas */
        #three-container canvas {
            display: block;
            width: 100% !important;
            height: 100% !important;
            cursor: grab; 
            border-radius: 12px;
        }
        #three-container:active canvas {
            cursor: grabbing;
        }

        body {
            padding-top: var(--header-height);
        }
        
        #hero {
             padding-top: 0 !important;
             padding-bottom: 5rem;
             margin-top: 4rem;
        }
        
        #three-container {
              background-color: var(--color-cream);
        }

        /* --- Header Shapes Animation --- */
        #main-header { overflow: hidden; }
        .shape {
            position: absolute;
            border: 1px solid white;
            opacity: 0.25;
            animation: float 20s infinite linear;
            will-change: transform;
        }
        .shape.circle { border-radius: 50%; }
        .shape.triangle { clip-path: polygon(50% 0%, 0% 100%, 100% 100%); }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); opacity: 0.25; }
            25% { transform: translateY(-20px) translateX(15px) rotate(90deg) scale(1.1); opacity: 0.35; }
            50% { transform: translateY(15px) translateX(-20px) rotate(180deg) scale(0.9); opacity: 0.25; }
            75% { transform: translateY(-10px) translateX(10px) rotate(270deg) scale(1.2); opacity: 0.35; }
            100% { transform: translateY(0px) rotate(360deg) scale(1); opacity: 0.25; }
        }

        /* --- Mobile Menu Styles (Full Screen Overlay) --- */
        #mobile-menu {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            will-change: transform;
        }
        #mobile-menu.active {
            transform: translateX(0%);
        }
    </style>
</head>
<body class="bg-white text-[var(--color-dark)] overflow-x-hidden">

    <header id="main-header" class="bg-[var(--color-dark)] fixed top-0 w-full z-50 shadow-xl border-b border-accent/20">
        <div id="header-animation-container" class="absolute inset-0 z-0" aria-hidden="true">
            <div class="shape circle" style="left: 10%; top: 20%; width: 20px; height: 20px; animation-duration: 15s; animation-delay: -2s;"></div>
            <div class="shape square" style="left: 20%; top: 70%; width: 15px; height: 15px; animation-duration: 20s; animation-delay: -5s;"></div>
            <div class="shape triangle" style="left: 30%; top: 30%; width: 18px; height: 18px; animation-duration: 12s; animation-delay: -1s;"></div>
            <div class="shape square" style="left: 80%; top: 75%; width: 16px; height: 16px; animation-duration: 17s; animation-delay: -4s;"></div>
            
            <div class="shape circle" style="left: 55%; top: 15%; width: 25px; height: 25px; animation-duration: 18s; animation-delay: -3s;"></div>
            <div class="shape circle" style="left: 5%; top: 85%; width: 12px; height: 12px; animation-duration: 22s; animation-delay: -8s;"></div>
            <div class="shape circle" style="left: 92%; top: 40%; width: 18px; height: 18px; animation-duration: 14s; animation-delay: -5s;"></div>

            <div class="shape square" style="left: 45%; top: 60%; width: 14px; height: 14px; animation-duration: 19s; animation-delay: -2s;"></div>
            <div class="shape square" style="left: 15%; top: 45%; width: 22px; height: 22px; animation-duration: 25s; animation-delay: -10s;"></div>
            <div class="shape square" style="left: 75%; top: 10%; width: 10px; height: 10px; animation-duration: 16s; animation-delay: -4s;"></div>

            <div class="shape triangle" style="left: 65%; top: 80%; width: 20px; height: 20px; animation-duration: 21s; animation-delay: -6s;"></div>
            <div class="shape triangle" style="left: 35%; top: 10%; width: 15px; height: 15px; animation-duration: 13s; animation-delay: -1s;"></div>
            <div class="shape triangle" style="left: 85%; top: 55%; width: 24px; height: 24px; animation-duration: 24s; animation-delay: -9s;"></div>
        </div>
        
        <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center relative z-10">
            <a href="#hero" class="transition duration-300 hover:scale-[1.01] drop-shadow-lg flex items-center space-x-3">
                <img src="https://i.postimg.cc/jq4mhBzP/Untitled-design-1.png" alt="Logo" class="h-12 w-12 rounded-full object-cover border-2 border-accent/50">
                <div class="flex flex-col leading-none font-extrabold tracking-widest">
                    <span class="text-4xl sm:text-5xl leading-none text-accent">SURABHI</span>
                    <span class="text-lg md:text-xl text-white mt-[-4px]">PYTHA ACADEMY</span>
                </div>
            </a>
            
            <nav class="hidden md:flex space-x-8 font-medium text-white items-center">
                <a href="#course-overview" class="nav-link hover:text-accent transition duration-300 relative group py-1">Overview<span class="absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span></a>
                <a href="#syllabus" class="nav-link hover:text-accent transition duration-300 relative group py-1">Syllabus<span class="absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span></a>
                
                <a href="#" onclick="openTeamModal(event)" class="nav-link hover:text-accent transition duration-300 relative group py-1">Our Team<span class="absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span></a>
                
                <a href="#" onclick="openGalleryModal(event)" class="nav-link hover:text-accent transition duration-300 relative group py-1">Gallery<span class="absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span></a>
                <a href="#" onclick="openContactModal(event)" class="nav-link hover:text-accent transition duration-300 relative group py-1">Contact<span class="absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span></a>
            </nav>
            <button onclick="openApplicationModal()" class="hidden md:block bg-accent text-[var(--color-dark)] py-2 px-6 rounded-xl font-bold shadow-lg hover:bg-white hover:shadow-2xl transition duration-300 transform hover:scale-[1.05]">Enroll Now</button>
            
            <button id="mobile-menu-btn" onclick="toggleMobileMenu()" class="md:hidden text-2xl text-accent p-2 z-[60] relative">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
    </header>

    <div id="mobile-menu" class="fixed inset-0 bg-black/95 backdrop-blur-md z-[100] pt-10 p-8 overflow-y-auto md:hidden hidden flex flex-col items-center justify-center">
        
        <button onclick="closeMobileMenu()" class="absolute top-6 right-6 bg-white text-black rounded-full p-2 shadow-xl hover:scale-110 transition duration-300 group z-[101]">
            <span class="sr-only">Close Menu</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 transform group-hover:rotate-90 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

        <nav class="flex flex-col w-full max-w-sm text-center">
            <a href="#course-overview" onclick="closeMobileMenu()" class="nav-link-mobile text-white text-2xl font-semibold py-4 border-b border-gray-800 hover:text-accent transition duration-300">Overview</a>
            <a href="#syllabus" onclick="closeMobileMenu()" class="nav-link-mobile text-white text-2xl font-semibold py-4 border-b border-gray-800 hover:text-accent transition duration-300">Syllabus</a>
            
            <a href="#" onclick="openTeamModal(event); closeMobileMenu();" class="nav-link-mobile text-white text-2xl font-semibold py-4 border-b border-gray-800 hover:text-accent transition duration-300">Our Team</a>
            
            <a href="#" onclick="openGalleryModal(event); closeMobileMenu();" class="nav-link-mobile text-white text-2xl font-semibold py-4 border-b border-gray-800 hover:text-accent transition duration-300">Gallery</a>
            <a href="#" onclick="openContactModal(event); closeMobileMenu();" class="nav-link-mobile text-white text-2xl font-semibold py-4 border-b border-gray-800 hover:text-accent transition duration-300">Contact</a>
            
            <div class="pt-8">
                 <button onclick="openApplicationModal(); closeMobileMenu();" class="w-full bg-accent text-[var(--color-dark)] py-4 px-8 rounded-xl font-bold text-xl shadow-lg hover:bg-white hover:scale-105 transition duration-300">
                     Enroll Now
                 </button>
            </div>
        </nav>
    </div>
    <section id="hero" class="relative overflow-hidden bg-white">
        <div class="max-w-6xl mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
            <div class="hero-content">
                <h1 class="text-5xl md:text-6xl font-extrabold leading-tight mb-4 tracking-tighter">
                    Master the Art of <span class="text-accent">3D CAD Production</span>
                </h1>
                <p class="text-lg text-gray-600 mb-8">
                    From detailed design and high-end visualization to CNC-ready manufacturing—Surabhi Pytha Academy empowers you with industry-leading skills.
                </p>
                
                <div class="flex flex-col items-start gap-4">
                    <div class="flex flex-row gap-4">
                        <a href="#course-overview" class="cta-button bg-accent text-[var(--color-dark)] font-bold py-3 px-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:scale-105 text-center">
                            Explore Course
                        </a>
                        <a href="#syllabus" class="text-gray-700 font-medium py-3 px-6 rounded-xl border border-gray-300 hover:border-accent hover:text-accent transition duration-300 text-center flex items-center justify-center">
                            View Details
                        </a>
                    </div>

                    <a href="https://drive.google.com/uc?export=download&id=1IbrdT0AoURk1wuH_u2EkZgFYH_eXCazd" target="_blank" class="flex items-center justify-center gap-2 bg-[var(--color-dark)] text-white font-medium text-sm py-2 px-6 rounded-lg shadow-md hover:bg-gray-800 transition duration-300 transform hover:scale-[1.02]">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        <span>Download Brochure</span>
                    </a>
                </div>
            </div>

            <div class="hero-visual p-8 bg-cream rounded-2xl shadow-xl border border-gray-200 flex justify-center items-center h-80 relative group" id="three-container">
                <div id="dnd-message" class="absolute inset-0 flex flex-col items-center justify-center text-center text-gray-700 pointer-events-none transition-opacity duration-300 bg-cream/70 rounded-2xl z-20 opacity-0">
                    <p class="text-lg font-bold">Drag & Drop 3D Model Here (.obj)</p>
                    <p class="text-sm mt-1">Files like .skp, .max must first be converted.</p>
                </div>
                <p class="absolute inset-0 flex items-center justify-center text-gray-400 pointer-events-none text-sm z-10">
                    Orbit, Pan, and Zoom this 3D Model
                </p>
            </div>
        </div>
    </section>

    <section id="course-overview" class="py-16 md:py-24 bg-cream"> 
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">The 4 Pillars of Pytha Mastery</h2>
            <div class="grid md:grid-cols-4 gap-6">
                <div class="pillar-card p-6 bg-white rounded-xl shadow-lg border-t-4 border-accent transition-all duration-500 hover:shadow-xl hover:scale-[1.02]">
                    <span class="text-3xl font-extrabold text-accent mb-2 block">01</span>
                    <h3 class="text-xl font-semibold mb-2">3D MODELLING</h3>
                    <p class="text-gray-600 text-sm">Learn UI, geometry, basic tools, cabinet making, and advanced techniques like Loft, Revolve, and Sweep for complex furniture design.</p>
                </div>
                <div class="pillar-card p-6 bg-white rounded-xl shadow-lg border-t-4 border-accent transition-all duration-500 hover:shadow-xl hover:scale-[1.02]">
                    <span class="text-3xl font-extrabold text-accent mb-2 block">02</span>
                    <h3 class="text-xl font-semibold mb-2">PRESENTATION</h3>
                    <p class="text-gray-600 text-sm">Master scene setup, camera angles, lighting (HDRI), texture creation, and high-end 360 Degree Panorama rendering for client visualization.</p>
                </div>
                    <div class="pillar-card p-6 bg-white rounded-xl shadow-lg border-t-4 border-accent transition-all duration-500 hover:shadow-xl hover:scale-[1.02]">
                    <span class="text-3xl font-extrabold text-accent mb-2 block">03</span>
                    <h3 class="text-xl font-semibold mb-2">PLOTTING</h3>
                    <p class="text-gray-600 text-sm">Develop technical drawings, 2D drafting, assembly diagrams, and associative sections complete with professional title blocks and pen settings.</p>
                </div>
                <div class="pillar-card p-6 bg-white rounded-xl shadow-lg border-t-4 border-accent transition-all duration-500 hover:shadow-xl hover:scale-[1.02]">
                    <span class="text-3xl font-extrabold text-accent mb-2 block">04</span>
                    <h3 class="text-xl font-semibold mb-2"> PRODUCTION</h3>
                    <p class="text-gray-600 text-sm">Dive into manufacturing—drilling, edge banding, nesting, panel optimisation, CNC machining, and an industry visit to Surabhi Decor.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-16 md:py-24 bg-white border-t border-gray-100">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="space-y-6">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-[var(--color-dark)]">
                        What is <span class="text-accent">PYTHA 3D CAD</span> Software?
                    </h2>
                    <p class="text-lg text-gray-700 leading-relaxed">
                        PYTHA is a powerful, "Made in Germany" 3D CAD system specifically designed for high-end wood working, furniture design, and commercial joinery. Unlike generic CAD tools, PYTHA offers a true <span class="font-semibold text-accent">One-Stop Solution</span>:
                    </p>
                    
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <svg class="h-6 w-6 text-accent mr-2 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            <span><strong>Total Freedom:</strong> Model free-form organic shapes and complex joinery without limits.</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-6 w-6 text-accent mr-2 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            <span><strong>Visual Brilliance:</strong> Create photorealistic renders and VR walkthroughs instantly.</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-6 w-6 text-accent mr-2 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            <span><strong>Production Ready:</strong> Generate cutting lists, part labels, and CNC machine codes directly from your design.</span>
                        </li>
                    </ul>
                </div>

                <div class="relative w-full rounded-2xl overflow-hidden shadow-2xl border-4 border-gray-100 bg-black aspect-video group">
                    
                    <iframe 
                        src="https://drive.google.com/file/d/11VFU5YzoopDGQ6Uf1INVwj-NP6NLWakl/preview" 
                        width="100%" 
                        height="100%" 
                        class="absolute inset-0 w-full h-full"
                        allow="autoplay; encrypted-media" 
                        allowfullscreen
                        title="Pytha 3D CAD Overview">
                    </iframe>

                    <div class="absolute top-0 right-0 w-24 h-24 z-20 bg-transparent cursor-default"></div>
                    
                </div>
            </div>
        </div>
    </section>

    <section id="syllabus" class="py-16 md:py-24 bg-cream">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16">Detailed Course Syllabus</h2>
            <div class="syllabus-block mb-12 p-6 md:p-8 rounded-2xl border border-gray-200 bg-white shadow-lg">
                <h3 class="text-3xl font-extrabold text-accent mb-4">Week 1: 3D MODELLING</h3>
                <div class="grid md:grid-cols-2 gap-8 text-gray-700"> 
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Software Fundamentals</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Understanding UI & Geometry</li><li>Basic Tools & Basic Functions</li><li>Naming, Grouping, Layer, Reference Point</li><li>Partlist and Parmetrics (Library Creation)</li></ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Core Modeling Techniques</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Basic Modeling & Cabinet Making</li><li>Profile, Sweep, Revolve, Loft</li><li>Auxiliary Lines, Curve Menu</li></ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Industry Basics</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Basics of Wooden Industry</li><li>Types of Wood, Hardware, Fittings and Laminates</li></ul>
                    </div>
                </div>
            </div>
            <div class="syllabus-block mb-12 p-6 md:p-8 rounded-2xl border border-gray-200 bg-cream shadow-lg"> 
                <h3 class="text-3xl font-extrabold text-accent mb-4">Week 2: PRESENTATION</h3>
                <div class="grid md:grid-cols-2 gap-8 text-gray-700">
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Scene Setup & Visualization</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Creating a Floor Plan</li><li>Drag n Drop, Cabinets, Accessories & Appliances</li><li>Replace, placement of Doors and windows</li><li>Texture Creation</li></ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Rendering Techniques</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Defining Camera Perspective</li><li>Setting up of lights, background and HDRI</li><li>Rendering Parameters</li><li>360 Degree Panorama Rendering</li></ul>
                    </div>
                </div>
            </div>
            <div class="syllabus-block mb-12 p-6 md:p-8 rounded-2xl border border-gray-200 bg-white shadow-lg">
                <h3 class="text-3xl font-extrabold text-accent mb-4">Week 3: PLOTTING</h3>
                <div class="grid md:grid-cols-2 gap-8 text-gray-700">
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Documentation Setup</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Page Setup, Title Block, Templates</li><li>Pen Settings & Associative Sections</li></ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">2D Drafting & Detailing</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4"><li>Assign Dimensions and 2D Text</li><li>2D Drafting & Assembly Drawings</li><li>Use of Symbols & Graphics</li></ul>
                    </div>
                </div>
            </div>
            <div class="syllabus-block p-6 md:p-8 rounded-2xl border border-gray-200 bg-cream shadow-lg"> 
                   <h3 class="text-3xl font-extrabold text-accent mb-4">Week 4: PRODUCTION</h3>
                   <div class="grid md:grid-cols-2 gap-8 text-gray-700">
                      <div>
                          <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Manufacturing Operations</h4>
                          <ul class="list-disc list-inside space-y-1 ml-4"><li>Horizontal and Vertical drilling</li><li>Automatic & Manual Drilling Connection</li><li>EdgeBanding & Grain Direction</li><li>Routing parts & Edges</li></ul>
                      </div>
                       <div>
                           <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Optimization & CNC</h4>
                           <ul class="list-disc list-inside space-y-1 ml-4"><li>Nesting & Panel Optimisation</li><li>Label Design and Label Template</li><li>Generator</li><li>CNC Machining</li></ul>
                       </div>
                     <div>
                          <h4 class="font-bold text-lg mb-2 text-[var(--color-dark)]">Industry Exposure</h4>
                          <ul class="list-disc list-inside space-y-1 ml-4"><li>Indusrty Visit at Surabhi decor</li><li>Types of machines and their operation</li></ul>
                     </div>
                   </div>
            </div>
        </div>
    </section>

    <section id="contact" class="bg-accent py-16">
        <div class="max-w-4xl mx-auto text-center px-4">
            <h2 class="text-4xl font-extrabold mb-4 text-[var(--color-dark)]">Ready to Start Your Career in Design and Production?</h2>
            <p class="text-lg mb-8 text-[var(--color-dark)]">
                Enroll in the next batch at Surabhi Pytha Academy and transform your professional future.
            </p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                <button onclick="openApplicationModal()" class="bg-white text-[var(--color-dark)] font-bold py-3 px-10 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:scale-105 w-full sm:w-auto">Contact Admissions Today</button>
                <button onclick="openContactModal(event)" class="bg-transparent text-[var(--color-dark)] border-2 border-[var(--color-dark)] font-bold py-3 px-10 rounded-xl shadow-lg hover:bg-white/30 transition duration-300 transform hover:scale-105 w-full sm:w-auto">Contact Administrator</button>
            </div>
        </div>
    </section>

    <footer class="bg-[var(--color-dark)] text-gray-400 py-8">
        <div class="max-w-6xl mx-auto px-4 text-center mb-4">
            <a href="https://www.youtube.com/@SURABHIPYTHAACADEMY" target="_blank" rel="noopener noreferrer" class="inline-block mx-3 text-gray-400 hover:text-accent transition-colors duration-300" aria-label="YouTube">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22.54 6.42a2.76 2.76 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.76 2.76 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.76 2.76 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.76 2.76 0 0 0 1.94-2A29 29 0 0 0 23 11.75a29 29 0 0 0-.46-5.33z"></path>
                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
                </svg>
            </a>
            <a href="https://www.instagram.com/surabhi.pytha.academy/?hl=en" target="_blank" rel="noopener noreferrer" class="inline-block mx-3 text-gray-400 hover:text-accent transition-colors duration-300" aria-label="Instagram">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
            </a>
        </div>
        <div class="max-w-6xl mx-auto px-4 text-center text-sm">
            &copy; 2024 Surabhi Pytha Academy. All Rights Reserved. | Training powered by Pytha 3D CAD expertise.
        </div>
    </footer>

    <div id="application-modal" class="fixed inset-0 bg-black bg-opacity-70 z-[100] hidden items-center justify-center p-4" onclick="closeApplicationModal(event)">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8 transform transition-transform duration-300 scale-95 max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
            <div class="flex justify-between items-start border-b pb-4 mb-4">
                <h3 class="text-3xl font-extrabold text-[var(--color-dark)]">Enrollment Application</h3>
                <button onclick="closeApplicationModal()" class="text-gray-500 hover:text-gray-900 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <form id="application-form" onsubmit="handleApplicationSubmit(event)">
                <div class="space-y-4">
                    <div>
                        <label for="appName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="appName" name="appName" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="appPhone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number (What's App)</label>
                        <input type="tel" id="appPhone" name="appPhone" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="appEmail" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <input type="email" id="appEmail" name="appEmail" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="appPincode" class="block text-sm font-medium text-gray-700 mb-1">Pincode/ZIP Code</label>
                        <input type="text" id="appPincode" name="appPincode" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="appAddress" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                        <textarea id="appAddress" name="appAddress" rows="2" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent"></textarea>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="appCountry" class="block text-sm font-medium text-gray-700 mb-1">Select Country</label>
                            <select id="appCountry" name="appCountry" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent" onchange="handleCountryChange(this.value)">
                                <option value="IN" selected>India</option>
                                <option value="US">United States</option>
                                <option value="GB">United Kingdom</option>
                                <option value="AE">United Arab Emirates</option>
                                <option value="CA">Canada</option>
                                <option value="OTHER">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="appState" id="appStateLabel" class="block text-sm font-medium text-gray-700 mb-1">State/Union Territory</label>
                            <select id="appState" name="appState" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                                </select>
                            <input type="text" id="appStateText" name="appStateText" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent hidden" placeholder="Enter State/Province">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="col-span-2 md:col-span-1">
                            <label for="appJoiningMonth" class="block text-sm font-medium text-gray-700 mb-1">Joining Month</label>
                            <select id="appJoiningMonth" name="appJoiningMonth" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                                <option value="" disabled selected>Select Month</option>
                                <option value="January">January</option>
                                <option value="February">February</option>
                                <option value="March">March</option>
                                <option value="April">April</option>
                                <option value="May">May</option>
                                <option value="June">June</option>
                                <option value="July">July</option>
                                <option value="August">August</option>
                                <option value="September">September</option>
                                <option value="October">October</option>
                                <option value="November">November</option>
                                <option value="December">December</option>
                            </select>
                        </div>
                        <div class="col-span-2 md:col-span-1">
                            <label for="appJoiningYear" class="block text-sm font-medium text-gray-700 mb-1">Joining Year</label>
                            <select id="appJoiningYear" name="appJoiningYear" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                                <option value="" disabled selected>Select Year</option>
                                </select>
                        </div>
                    </div>

                    <div>
                        <label for="appBatch" class="block text-sm font-medium text-gray-700 mb-1">Preferable Batch</label>
                        <select id="appBatch" name="appBatch" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                            <option value="" disabled selected>Select Batch</option>
                            <option value="Morning (9:30am - 12:30pm)">Morning (9:30am - 12:30pm)</option>
                            <option value="Evening (2:30pm - 5:30pm)">Evening (2:30pm - 5:30pm)</option>
                            <option value="Full Time (10:00am - 5:30pm)">Full Time (10:00am - 5:30pm)</option>
                        </select>
                    </div>
                </div>
                
                <button type="submit" class="w-full mt-6 bg-accent text-[var(--color-dark)] font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-yellow-500 transition duration-300 transform hover:scale-[1.01]">
                    Submit Application
                </button>
            </form>

            <div id="application-success" class="hidden text-center p-6 mt-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h4 class="text-xl font-bold mb-2">Application Downloaded!</h4>
                <p id="success-message-text" class="text-gray-600">
                    </p>
                <button id="send-notification-btn" onclick="sendQuickNotification(this.dataset.name, this.dataset.phone)" class="w-full mt-4 bg-green-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-green-600 transition duration-300 flex items-center justify-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12.04 2c-5.46 0-9.9 4.44-9.9 9.9 0 1.75.46 3.48 1.34 4.96L2 22l5.34-1.42c1.47.88 3.2 1.34 4.7 1.34 5.46 0 9.9-4.44 9.9-9.9C21.94 6.44 17.5 2 12.04 2zM17.03 16.7c-.12.33-.37.77-.66.86-.29.11-1.02.05-1.21-.06-.18-.11-1.12-.48-2.14-1.32-.97-.8-1.57-1.92-1.76-2.25-.19-.33-.02-.51.13-.66.14-.14.33-.37.49-.55.16-.18.23-.29.35-.49.12-.18.06-.33-.03-.49-.1-.18-.66-1.58-.91-2.16-.25-.58-.5-.49-.69-.49-.18 0-.41-.01-.6-.01-.19 0-.49.06-.75.32-.26.25-1 .97-1 2.37s1.02 2.75 1.16 2.94c.14.18 2.01 3.07 4.88 4.31 2.01.88 2.76.95 3.19.89.43-.06.94-.4.98-.71.04-.32.04-.59-.22-.72-.25-.11-.66-.27-.85-.38z"/></svg>
                    <span>Send Quick Notification (Admissions Team)</span>
                </button>
                <button onclick="closeApplicationModal()" class="mt-4 bg-[var(--color-dark)] text-white font-bold py-2 px-6 rounded-xl hover:bg-gray-800 transition duration-300">Close</button>
            </div>
        </div>
    </div>

    <div id="gallery-modal" class="fixed inset-0 bg-black bg-opacity-70 z-[100] hidden items-center justify-center p-4" onclick="closeGalleryModal(event)">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-sm p-8 text-center transform transition-transform duration-300 scale-95" onclick="event.stopPropagation()">
            <h3 class="text-3xl font-extrabold text-[var(--color-dark)] mb-4">Gallery</h3>
            <p class="text-xl text-accent font-semibold mb-6">Coming Soon!</p>
            <p class="text-gray-700 mb-6">We're curating the best student and professional work to showcase. Check back shortly!</p>
            <button onclick="closeGalleryModal()" class="bg-[var(--color-dark)] text-white font-bold py-2 px-6 rounded-xl hover:bg-gray-800 transition duration-300">Close</button>
        </div>
    </div>
    
    <div id="team-modal" class="fixed inset-0 bg-black bg-opacity-70 z-[100] hidden items-center justify-center p-4" onclick="closeTeamModal(event)">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-sm p-8 text-center transform transition-transform duration-300 scale-95" onclick="event.stopPropagation()">
            <h3 class="text-3xl font-extrabold text-[var(--color-dark)] mb-4">Meet Our Team</h3>
            <p class="text-xl text-accent font-semibold mb-6">Coming Soon!</p>
            <p class="text-gray-700 mb-6">We are currently updating our faculty and staff profiles. Check back soon!</p>
            <button onclick="closeTeamModal()" class="bg-[var(--color-dark)] text-white font-bold py-2 px-6 rounded-xl hover:bg-gray-800 transition duration-300">Close</button>
        </div>
    </div>

    <div id="contact-modal" class="fixed inset-0 bg-black bg-opacity-70 z-[100] hidden items-center justify-center p-4" onclick="closeContactModal(event)">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-transform duration-300 scale-95" onclick="event.stopPropagation()">
            <div class="flex justify-between items-start border-b pb-4 mb-4">
                <h3 class="text-3xl font-extrabold text-[var(--color-dark)]">Direct Contact</h3>
                <button onclick="closeContactModal()" class="text-gray-500 hover:text-gray-900 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <form id="direct-contact-form" onsubmit="sendMessage(event)">
                <div class="space-y-4">
                    <div>
                        <label for="contactName" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                        <input type="text" id="contactName" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="contactInfo" class="block text-sm font-medium text-gray-700 mb-1">Contact (Email or WhatsApp Number)</label>
                        <input type="text" id="contactInfo" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="contactMessage" class="block text-sm font-medium text-gray-700 mb-1">Your Message</label>
                        <textarea id="contactMessage" rows="4" required class="w-full p-3 border border-gray-300 rounded-xl focus:ring-accent focus:border-accent"></textarea>
                    </div>
                </div>
                
                <button type="submit" class="w-full mt-6 bg-green-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-green-600 transition duration-300 transform hover:scale-[1.01] flex items-center justify-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12.04 2c-5.46 0-9.9 4.44-9.9 9.9 0 1.75.46 3.48 1.34 4.96L2 22l5.34-1.42c1.47.88 3.2 1.34 4.7 1.34 5.46 0 9.9-4.44 9.9-9.9C21.94 6.44 17.5 2 12.04 2zM17.03 16.7c-.12.33-.37.77-.66.86-.29.11-1.02.05-1.21-.06-.18-.11-1.12-.48-2.14-1.32-.97-.8-1.57-1.92-1.76-2.25-.19-.33-.02-.51.13-.66.14-.14.33-.37.49-.55.16-.18.23-.29.35-.49.12-.18.06-.33-.03-.49-.1-.18-.66-1.58-.91-2.16-.25-.58-.5-.49-.69-.49-.18 0-.41-.01-.6-.01-.19 0-.49.06-.75.32-.26.25-1 .97-1 2.37s1.02 2.75 1.16 2.94c.14.18 2.01 3.07 4.88 4.31 2.01.88 2.76.95 3.19.89.43-.06.94-.4.98-.71.04-.32.04-.59-.22-.72-.25-.11-.66-.27-.85-.38z"/></svg>
                    <span>Send Message via WhatsApp</span>
                </button>
            </form>
        </div>
    </div>


    <script>
        gsap.registerPlugin(ScrollToPlugin); 

        const ADMISSIONS_WHATSAPP = '918075098945';
        
        const header = document.getElementById('main-header');
        let headerHeight = 0; 
        
        let currentModel = null; 
        const MOBILE_MENU_TRANSITION_DURATION = 300;

        // --- THREE.JS 3D MODELING SETUP --- 
        let scene, camera, renderer;
        let controls; 
        const container = document.getElementById('three-container');

        function removeCurrentModel() {
            if (currentModel) {
                scene.remove(currentModel);
                currentModel.traverse(object => {
                    if (object.geometry) object.geometry.dispose();
                    if (object.material) {
                        if (Array.isArray(object.material)) {
                            object.material.forEach(material => material.dispose());
                        } else {
                            object.material.dispose();
                        }
                    }
                });
                currentModel = null;
            }
        }

        function loadRealisticChairModel() {
            removeCurrentModel();
            const chairGroup = new THREE.Group();

            const cushionMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x2c2c2c,
                roughness: 0.9,
                metalness: 0.1
            });
            const metalMaterial = new THREE.MeshStandardMaterial({
                color: 0x333333,
                roughness: 0.2,
                metalness: 1.0
            });

            const roundedRectShape = new THREE.Shape();
            const w = 1.6, h = 1.6, r = 0.1; 
            roundedRectShape.moveTo(-w/2 + r, -h/2);
            roundedRectShape.lineTo(w/2 - r, -h/2);
            roundedRectShape.quadraticCurveTo(w/2, -h/2, w/2, -h/2 + r);
            roundedRectShape.lineTo(w/2, h/2 - r);
            roundedRectShape.quadraticCurveTo(w/2, h/2, w/2 - r, h/2);
            roundedRectShape.lineTo(-w/2 + r, h/2);
            roundedRectShape.quadraticCurveTo(-w/2, h/2, -w/2, h/2 - r);
            roundedRectShape.lineTo(-w/2, -h/2 + r);
            roundedRectShape.quadraticCurveTo(-w/2, -h/2, -w/2 + r, -h/2);

            const extrudeSettings = { steps: 2, depth: 0.15, bevelEnabled: true, bevelThickness: 0.05, bevelSize: 0.05, bevelSegments: 8 };

            const seat = new THREE.Mesh(new THREE.ExtrudeGeometry(roundedRectShape, extrudeSettings), cushionMaterial);
            seat.position.y = 1.0;
            seat.rotation.x = -Math.PI / 2;
            seat.castShadow = true;
            seat.receiveShadow = true;
            chairGroup.add(seat);

            const backrest = new THREE.Mesh(new THREE.ExtrudeGeometry(roundedRectShape, extrudeSettings), cushionMaterial);
            backrest.position.set(0, 1.8, -0.85);
            backrest.rotation.x = -0.1;
            backrest.castShadow = true;
            backrest.receiveShadow = true;
            chairGroup.add(backrest);

            const legGeometry = new THREE.CylinderGeometry(0.04, 0.04, 1.0, 16); 
            [new THREE.Vector3(0.7, 0.5, 0.7), new THREE.Vector3(-0.7, 0.5, 0.7), new THREE.Vector3(0.7, 0.5, -0.7), new THREE.Vector3(-0.7, 0.5, -0.7)].forEach(pos => {
                const leg = new THREE.Mesh(legGeometry, metalMaterial);
                leg.position.copy(pos);
                leg.castShadow = true;
                chairGroup.add(leg);
            });
            
            const armrestSupportGeo = new THREE.CylinderGeometry(0.04, 0.04, 0.6, 16); 
            const leftArm = new THREE.Mesh(new THREE.BoxGeometry(0.1, 0.1, 1.2), metalMaterial);
            leftArm.position.set(-0.85, 1.6, 0);
            leftArm.castShadow = true;
            const leftSupport = new THREE.Mesh(armrestSupportGeo, metalMaterial);
            leftSupport.position.set(-0.85, 1.3, 0.3);
            leftSupport.rotation.z = Math.PI / 8;
            leftSupport.castShadow = true;
            chairGroup.add(leftArm);
            chairGroup.add(leftSupport);

            const rightArm = new THREE.Mesh(new THREE.BoxGeometry(0.1, 0.1, 1.2), metalMaterial);
            rightArm.position.set(0.85, 1.6, 0);
            rightArm.castShadow = true;
            const rightSupport = new THREE.Mesh(armrestSupportGeo, metalMaterial);
            rightSupport.position.set(0.85, 1.3, 0.3);
            rightSupport.rotation.z = -Math.PI / 8;
            rightSupport.castShadow = true;
            chairGroup.add(rightArm);
            chairGroup.add(rightSupport);

            currentModel = chairGroup;
            scene.add(currentModel);
            controls.target.set(0, 0.8, 0); 
            controls.update();
        }

        function loadObjFile(file, material) {
            const reader = new FileReader();
            const dndMessage = document.getElementById('dnd-message');
            reader.onload = (event) => {
                const loader = new THREE.OBJLoader();
                try {
                    const object = loader.parse(event.target.result);
                    removeCurrentModel();
                    object.traverse((child) => {
                        if (child.isMesh) {
                            child.material = material;
                            child.castShadow = true;
                            child.receiveShadow = true;
                        }
                    });
                    const box = new THREE.Box3().setFromObject(object);
                    const scaleFactor = 2.5 / Math.max(box.getSize(new THREE.Vector3()).x, box.getSize(new THREE.Vector3()).y, box.getSize(new THREE.Vector3()).z); 
                    object.scale.set(scaleFactor, scaleFactor, scaleFactor);
                    object.position.sub(box.getCenter(new THREE.Vector3()).multiplyScalar(scaleFactor));
                    currentModel = object;
                    scene.add(currentModel);
                    controls.target.set(0, 0, 0); 
                    controls.update();
                    if (dndMessage) {
                        dndMessage.innerHTML = `<p class="text-lg font-bold text-black">Successfully loaded ${file.name}!</p>`;
                        dndMessage.style.opacity = 1;
                        setTimeout(() => dndMessage.style.opacity = 0, 3000);
                    }
                } catch (e) {
                    displayDropMessage(`Error loading ${file.name}.`, true);
                    loadRealisticChairModel();
                }
            };
            reader.readAsText(file);
        }

        function displayDropMessage(message, isError = false) {
            const dnd = document.getElementById('dnd-message');
            if (dnd) {
                dnd.style.opacity = 1;
                dnd.innerHTML = `<p class="text-lg font-bold">${message}</p>`;
                dnd.style.backgroundColor = isError ? 'rgba(239, 68, 68, 0.9)' : 'rgba(255, 218, 151, 0.9)'; 
                dnd.style.color = isError ? 'white' : 'black';
                setTimeout(() => dnd.style.opacity = 0, isError ? 5000 : 3000);
            }
        }

        function setupDragAndDrop() {
            const dndContainer = document.getElementById('three-container');
            const dndMessage = document.getElementById('dnd-message');
            if (!dndContainer || !dndMessage) return;
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dndContainer.addEventListener(eventName, (e) => { e.preventDefault(); e.stopPropagation(); }, false);
            });
            dndContainer.addEventListener('dragenter', () => {
                dndMessage.style.opacity = 1;
                dndMessage.innerHTML = '<p class="text-lg font-bold text-black">Release to load model...</p>';
                dndMessage.style.backgroundColor = 'rgba(255, 218, 151, 0.9)'; 
                dndMessage.style.color = 'black';
            }, false);
            dndContainer.addEventListener('dragleave', () => { dndMessage.style.opacity = 0; }, false);
            dndContainer.addEventListener('drop', (e) => {
                dndMessage.style.opacity = 0; 
                const files = e.dataTransfer.files;
                if (files.length === 0) return;
                const file = files[0];
                if (file.name.toLowerCase().endsWith('.obj')) {
                    loadObjFile(file, new THREE.MeshPhongMaterial({ color: 0x000000, shininess: 50 }));
                } else {
                      displayDropMessage(`Unsupported file type. Only .obj files are supported.`, true);
                      loadRealisticChairModel(); 
                }
            }, false);
        }

        function initThreeJS() {
            if (!container) return; 
            const containerRect = container.getBoundingClientRect();
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xF8F4E3);
            camera = new THREE.PerspectiveCamera(75, containerRect.width / containerRect.height, 0.1, 1000);
            camera.position.set(2.5, 1.5, 3); 
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true }); 
            renderer.setSize(containerRect.width, containerRect.height);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap; 
            container.appendChild(renderer.domElement);
            
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8); 
            scene.add(ambientLight);
            const directionalLight1 = new THREE.DirectionalLight(0xffffff, 1.2); 
            directionalLight1.position.set(5, 10, 7.5); 
            directionalLight1.castShadow = true;
            directionalLight1.shadow.mapSize.width = 1024;
            directionalLight1.shadow.mapSize.height = 1024;
            scene.add(directionalLight1);
            const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.6); 
            directionalLight2.position.set(-5, -5, -5).normalize();
            scene.add(directionalLight2);

            const ground = new THREE.Mesh(new THREE.PlaneGeometry(20, 20), new THREE.MeshStandardMaterial({ color: 0xF8F4E3, roughness: 1.0, metalness: 0.0 }));
            ground.rotation.x = -Math.PI / 2;
            ground.receiveShadow = true;
            scene.add(ground);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true; 
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = false; 
            controls.minDistance = 1.5; 
            controls.maxDistance = 10; 
            controls.autoRotate = true; 
            controls.autoRotateSpeed = 0.5; 
            controls.target.set(0, 0.75, 0);
            
            loadRealisticChairModel(); 
            setupDragAndDrop();
            window.addEventListener('resize', onWindowResize);
            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            if (controls) controls.update(); 
            if(renderer && scene && camera) renderer.render(scene, camera); 
        }

        function onWindowResize() {
            if(header) setCSSHeaderHeight(); 
            if (container && renderer && camera && controls) { 
                const containerRect = container.getBoundingClientRect();
                camera.aspect = containerRect.width / containerRect.height;
                camera.updateProjectionMatrix();
                renderer.setSize(containerRect.width, containerRect.height);
                controls.update();
            }
        }
        
        function setCSSHeaderHeight() { 
             if (!header) return; 
             headerHeight = header.offsetHeight;
             document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);
             document.body.style.paddingTop = `${headerHeight}px`;
        }
        
        let lastScrollY = window.scrollY;
        window.addEventListener('scroll', () => {
             if (!header) return; 
             const currentScrollY = window.scrollY;
             if (currentScrollY > headerHeight && currentScrollY > lastScrollY) {
                 header.classList.add('-translate-y-full');
             } else if (currentScrollY < lastScrollY || currentScrollY <= headerHeight) {
                 header.classList.remove('-translate-y-full');
             }
             lastScrollY = currentScrollY <= 0 ? 0 : currentScrollY;
        }, { passive: true });

        // --- UPDATED MOBILE MENU FUNCTIONS ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (!menu) return;
            const isActive = menu.classList.contains('active');
            
            if (isActive) {
                closeMobileMenu();
            } else {
                menu.classList.remove('hidden'); 
                setTimeout(() => menu.classList.add('active'), 10); 
                document.body.style.overflow = 'hidden'; 
            }
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu && menu.classList.contains('active')) {
                menu.classList.remove('active');
                document.body.style.overflow = '';
                setTimeout(() => {
                    menu.classList.add('hidden');
                }, MOBILE_MENU_TRANSITION_DURATION);
            }
        }

        function handleSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        if (header) header.classList.remove('-translate-y-full'); 
                        let currentHeaderHeight = header ? header.offsetHeight : 0; 
                        closeMobileMenu();
                        gsap.to(window, {
                            duration: 0.4, 
                            scrollTo: { y: targetElement, offsetY: currentHeaderHeight + 20 },
                            ease: "power2.out" 
                        });
                    }
                });
            });
        }

        // --- Application Modal Logic & PDF Generation ---
        const indianStates = ["Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh", "Goa", "Gujarat", "Haryana", "Himachal Pradesh", "Jharkhand", "Karnataka", "Kerala", "Madhya Pradesh", "Maharashtra", "Manipur", "Meghalaya", "Mizoram", "Nagaland", "Odisha", "Punjab", "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura", "Uttar Pradesh", "Uttarakhand", "West Bengal", "Andaman and Nicobar Islands (UT)", "Chandigarh (UT)", "Dadra and Nagar Haveli and Daman and Diu (UT)", "Delhi (NCT)", "Jammu and Kashmir (UT)", "Ladakh (UT)", "Lakshadweep (UT)", "Puducherry (UT)"];

        function handleCountryChange(countryCode) {
            const stateSelect = document.getElementById('appState');
            const stateTextInput = document.getElementById('appStateText');
            const stateLabel = document.getElementById('appStateLabel');
            if (!stateSelect || !stateTextInput || !stateLabel) return;
            if (countryCode === 'IN') {
                stateSelect.classList.remove('hidden');
                stateTextInput.classList.add('hidden');
                stateSelect.innerHTML = '<option value="" disabled selected>Select State/UT</option>';
                stateLabel.textContent = 'Select State/Union Territory';
                indianStates.forEach(state => {
                    const option = document.createElement('option');
                    option.value = state; option.textContent = state;
                    stateSelect.appendChild(option);
                });
                stateSelect.required = true; stateTextInput.required = false;
            } else {
                stateSelect.classList.add('hidden');
                stateTextInput.classList.remove('hidden');
                stateLabel.textContent = 'State/Province';
                stateSelect.required = false; stateTextInput.required = true;
            }
        }

        function populateJoiningYears() {
            const yearSelect = document.getElementById('appJoiningYear');
            if (!yearSelect) return;
            yearSelect.innerHTML = '<option value="" disabled selected>Select Year</option>';
            const startYear = Math.max(2025, new Date().getFullYear()); 
            for (let year = startYear; year <= 2035; year++) {
                const option = document.createElement('option');
                option.value = year.toString(); option.textContent = year.toString();
                yearSelect.appendChild(option);
            }
        }

        function openApplicationModal() {
            const modal = document.getElementById('application-modal');
            const form = document.getElementById('application-form');
            const success = document.getElementById('application-success');
            if (modal) {
                form.classList.remove('hidden');
                success.classList.add('hidden');
                form.reset();
                modal.classList.add('flex');
                modal.classList.remove('hidden');
                populateJoiningYears();
                const countrySelect = document.getElementById('appCountry');
                if (countrySelect) handleCountryChange(countrySelect.value);
                gsap.fromTo(modal.querySelector(':scope > div'), { scale: 0.9, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.3, ease: "power2.out" });
            }
        }

        function closeApplicationModal(event) {
            const modal = document.getElementById('application-modal');
            if (modal) {
                if (!event || event.target === modal || event.type === 'click' && event.currentTarget.tagName === 'BUTTON') {
                      gsap.to(modal.querySelector(':scope > div'), { scale: 0.9, opacity: 0, duration: 0.2, ease: "power2.in", onComplete: () => { modal.classList.add('hidden'); modal.classList.remove('flex'); } });
                }
            }
        }

        function sendQuickNotification(name, phone) {
            const message = `*NEW APPLICATION SUBMITTED!* 📋\n\nName: ${name}\nContact: ${phone}\n\n*Action Required:* Please contact this applicant immediately.`;
            window.open(`https://wa.me/${ADMISSIONS_WHATSAPP}?text=${encodeURIComponent(message)}`, '_blank');
        }

        function handleApplicationSubmit(event) {
            event.preventDefault();
            const form = document.getElementById('application-form');
            const success = document.getElementById('application-success');
            const { jsPDF } = window.jspdf || {};
            if (!jsPDF) return alert("PDF Library Error");

            const name = document.getElementById('appName').value;
            const email = document.getElementById('appEmail').value;
            const phone = document.getElementById('appPhone').value;
            const pincode = document.getElementById('appPincode').value; 
            const joiningMonth = document.getElementById('appJoiningMonth').value; 
            const joiningYear = document.getElementById('appJoiningYear').value; 
            const preferredBatch = document.getElementById('appBatch').value; 
            const address = document.getElementById('appAddress').value;
            const countrySelect = document.getElementById('appCountry');
            const country = countrySelect.options[countrySelect.selectedIndex].text;
            const state = document.getElementById('appState').classList.contains('hidden') ? document.getElementById('appStateText').value : document.getElementById('appState').value;
            
            try {
                const doc = new jsPDF();
                const COLOR_BLACK = [0, 0, 0];
                const COLOR_ACCENT_GOLD = [255, 218, 151];
                
                // Header
                doc.setFillColor(...COLOR_BLACK); doc.rect(0, 0, 210, 35, 'F');
                doc.setFillColor(...COLOR_ACCENT_GOLD); doc.rect(0, 32, 210, 3, 'F');
                doc.setTextColor(255, 255, 255); doc.setFontSize(20); doc.setFont('helvetica', 'bold'); doc.text("SURABHI", 30, 15);
                doc.setFontSize(13); doc.setFont('helvetica', 'normal'); doc.text("PYTHA ACADEMY", 30, 22);

                let y = 50; 
                doc.setTextColor(0, 0, 0); doc.setFontSize(24); doc.setFont('helvetica', 'bold'); doc.text("ENROLLMENT FORM", 15, y); y += 12;
                doc.setFontSize(14); doc.text("APPLICANT DETAILS", 15, y); y += 3;
                doc.setDrawColor(...COLOR_ACCENT_GOLD); doc.setLineWidth(1.5); doc.line(15, y, 65, y); y += 15;

                const addField = (lbl, val, x) => {
                    doc.setFontSize(9); doc.setTextColor(80, 80, 80); doc.setFont('helvetica', 'bold'); doc.text(lbl, x, y);
                    doc.setFontSize(12); doc.setTextColor(0,0,0); doc.setFont('helvetica', 'normal'); doc.text(val, x, y + 6);
                };
                
                // Rows
                addField("FULL NAME", name.toUpperCase(), 15); addField("EMAIL", email.toLowerCase(), 110); y += 20;
                addField("PHONE", phone, 15); addField("PINCODE", pincode, 110); y += 20;
                addField("COUNTRY", country.toUpperCase(), 15); addField("STATE", state.toUpperCase(), 110); y += 20;
                addField("JOINING MONTH", joiningMonth.toUpperCase(), 15); addField("JOINING YEAR", joiningYear, 110); y += 20;
                addField("BATCH", preferredBatch.toUpperCase(), 15); y += 20;
                addField("ADDRESS", address.toUpperCase(), 15); y += 30;

                doc.setFontSize(10); doc.text("I confirm the above information is accurate.", 15, y); y += 20;
                doc.line(15, y, 85, y); doc.text("Signature", 15, y + 5);

                // Footer
                const pageHeight = doc.internal.pageSize.height;
                doc.setFillColor(...COLOR_ACCENT_GOLD); doc.rect(0, pageHeight - 27, 210, 2, 'F');
                doc.setFillColor(...COLOR_BLACK); doc.rect(0, pageHeight - 25, 210, 25, 'F');
                doc.setTextColor(255, 255, 255); doc.setFontSize(10); doc.setFont('helvetica', 'bold'); 
                doc.text("NEXT STEP: Please email this signed application form to:", 105, pageHeight - 17, { align: "center" });
                doc.setFontSize(12); doc.setFont('helvetica', 'normal');
                doc.text("surabhipythaacademy@gmail.com", 105, pageHeight - 10, { align: "center" });
                doc.setFontSize(9); doc.text("www.surabhipythaacademy.com", 105, pageHeight - 4, { align: "center" });

                doc.save(`Pytha_Application_${name}.pdf`);
                
                const successMsg = document.getElementById('success-message-text');
                const btn = document.getElementById('send-notification-btn');
                successMsg.innerHTML = `Thank you, <b>${name}</b>! PDF downloaded. Please email it to surabhipythaacademy@gmail.com`;
                btn.dataset.name = name; btn.dataset.phone = phone;

                form.classList.add('hidden'); success.classList.remove('hidden');
            } catch (e) { console.error(e); }
        }

        function openGalleryModal(e) { if(e) e.preventDefault(); const m=document.getElementById('gallery-modal'); m.classList.add('flex'); m.classList.remove('hidden'); gsap.fromTo(m.children[0],{scale:0.9,opacity:0},{scale:1,opacity:1,duration:0.3}); }
        function closeGalleryModal(e) { const m=document.getElementById('gallery-modal'); if(!e||e.target===m||e.currentTarget.tagName==='BUTTON'){gsap.to(m.children[0],{scale:0.9,opacity:0,duration:0.2,onComplete:()=>{m.classList.add('hidden');m.classList.remove('flex')}});} }

        // --- ADDED NEW TEAM MODAL FUNCTIONS ---
        function openTeamModal(e) { if(e) e.preventDefault(); const m=document.getElementById('team-modal'); m.classList.add('flex'); m.classList.remove('hidden'); gsap.fromTo(m.children[0],{scale:0.9,opacity:0},{scale:1,opacity:1,duration:0.3}); }
        function closeTeamModal(e) { const m=document.getElementById('team-modal'); if(!e||e.target===m||e.currentTarget.tagName==='BUTTON'){gsap.to(m.children[0],{scale:0.9,opacity:0,duration:0.2,onComplete:()=>{m.classList.add('hidden');m.classList.remove('flex')}});} }

        function openContactModal(e) { if(e) e.preventDefault(); const m=document.getElementById('contact-modal'); m.classList.add('flex'); m.classList.remove('hidden'); gsap.fromTo(m.children[0],{scale:0.9,opacity:0},{scale:1,opacity:1,duration:0.3}); }
        function closeContactModal(e) { const m=document.getElementById('contact-modal'); if(!e||e.target===m||e.currentTarget.tagName==='BUTTON'){gsap.to(m.children[0],{scale:0.9,opacity:0,duration:0.2,onComplete:()=>{m.classList.add('hidden');m.classList.remove('flex')}});} }
        
        function sendMessage(e) {
            e.preventDefault();
            const n = document.getElementById('contactName').value;
            const i = document.getElementById('contactInfo').value;
            const m = document.getElementById('contactMessage').value;
            window.open(`https://wa.me/${ADMISSIONS_WHATSAPP}?text=${encodeURIComponent(`Name: ${n}\nContact: ${i}\nMessage: ${m}`)}`, '_blank');
            closeContactModal();
        }

        window.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeApplicationModal(); closeMobileMenu(); closeGalleryModal(); closeContactModal(); closeTeamModal(); } });

        window.onload = function() {
            setCSSHeaderHeight();
            if (container) initThreeJS();
            handleSmoothScroll();
            const countrySelect = document.getElementById('appCountry');
            if (countrySelect) countrySelect.dispatchEvent(new Event('change'));
        };
    </script>
</body>
</html>
